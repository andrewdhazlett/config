{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":0,"width":2560,"height":1440},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/andrewhazlett/Dev/src/webapp","buffers":[{"text":"Template.dashboard.helpers\n\n  ### Points-based feedback ###\n  userPointsTotal: -> Meteor.user().secureProfile.points\n  userPointsGoal: -> Points.studentGoal\n  groupPointsTotal: -> _.pluck @groups, 'points'\n  groupPointsGoal: -> _.map @groups, (group) ->\n    Points.studentGoal * group.members.length\n  organizationPointsTotal: -> @organization?.points\n  organizationPointsGoal: -> @organization?.members?.length * Points.studentGoal\n  userGroupRank: -> _.map @groups, getUserRank\n  userOrganizationRank: -> getUserRank @organization\n  groupOrganizationRank: -> _.map @groups, (group) =>\n    sortedGroups = sortByPoints @organization.groups\n    sortedGroupIds = _.pluck sortedGroups, 'groupId'\n    1 + _.indexOf sortedGroupIds, group.groupId\n  groupLeaders: (count) -> _.map @groups, (group) ->\n    getLeaders group.members, count\n\n  ### Lessons ###\n  userLessonsCompleted: -> getUserLessonsCompleted()\n  totalLessonsAvailable: -> Lessons.find().count()\n  userLessonsPoints: -> Points.lessonComplete * getUserLessonsCompleted()\n\n  ### Broadcast ###\n  referralsSent: -> _.size @supporters\n  confirmedSupporters: -> _.size _.where @supporters, confirmed: yes\n  campaignEmailsSent: -> _.reduce @supporters, Reducers.campaignEmailsReducer, 0\n  campaignResponses: -> _.reduce @supporters, Reducers.responsesReducer, 0\n  userSupporterPoints: -> _.reduce @supporters, Reducers.pointsReducer, 0\n  supporterLeaders: (count) -> getLeaders @supporters, count\n\n\nReducers =\n  campaignEmailsReducer: (memo, supporter) ->\n    memo += 1 unless supporter.confirmed and supporter.repliedToLastEmail\n    memo += _.size supporter.responses\n  pointsReducer: (memo, supporter) -> memo += supporter.points\n  responsesReducer: (memo, supporter) -> memo += _.size supporter.responses\n\ngetLeaders = (pointsHavers, count) -> (sortByPoints pointsHavers).slice 0, count\ngetUserRank = (membersHaver) ->\n  sortedMemberIds = _.pluck (sortByPoints membersHaver.members), 'userId'\n  1 + _.indexOf sortedMemberIds, Meteor.userId()\n\nsortByPoints = (pointsHaver) -> (_.sortBy pointsHaver, 'points').reverse()\n\ngetUserLessonsCompleted = ->\n  _.size Meteor.user().secureProfile.completedLessons\n","markers":{"markers":{"1":{"id":1,"range":[[7,45],[7,45]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":2065,"goalBufferRange":null,"preserveFolds":true},"deserializer":"Marker"},"3":{"id":3,"range":[[17,35],[17,35]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"6":{"id":6,"range":[[6,37],[6,43]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"7":{"id":7,"range":[[5,40],[5,48]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"8":{"id":8,"range":[[10,35],[10,35]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"9":{"id":9,"range":[[10,46],[10,46]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"11":{"id":11,"range":[[10,46],[10,46]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"13":{"id":13,"range":[[11,26],[11,52]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"14":{"id":14,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"15":{"id":15,"range":[[12,43],[12,49]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"16":{"id":16,"range":[[16,16],[16,22]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"17":{"id":17,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"18":{"id":18,"range":[[16,42],[16,48]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"26":{"id":26,"range":[[29,47],[29,73]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"27":{"id":27,"range":[[30,20],[30,26]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"28":{"id":28,"range":[[30,31],[38,75]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"29":{"id":29,"range":[[0,0],[0,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"30":{"id":30,"range":[[40,13],[40,33]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"31":{"id":31,"range":[[49,0],[49,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"32":{"id":32,"range":[[28,46],[28,71]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"33":{"id":33,"range":[[27,47],[27,77]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"66":{"id":66,"range":[[20,0],[21,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"},"67":{"id":67,"range":[[22,0],[23,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"},"68":{"id":68,"range":[[47,0],[48,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/andrewhazlett/Dev/src/webapp/client/views/pages/dashboard.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"1072d1302798c10e5ff1af2ddb6638fb02c87bac","deserializer":"TextBuffer"},{"text":"### Route controllers ###\n\n@RouteCtrl =\n\n  lessons: RouteController.extend\n    waitOn: ->\n      role = _.findWhere Meteor.user().roles, role: 'memberOrganization'\n      id = role?.organizationId\n      [ Meteor.subscribe 'lessons'\n        Meteor.subscribe 'singleOrganization', id ]\n    data: -> lessons: Lessons.find(), organization: Organizations.findOne()\n\n  lesson: RouteController.extend\n    waitOn: -> Meteor.subscribe 'singleLesson', @params._id\n    data: -> lesson: Lessons.findOne()\n\n  lessonComplete: RouteController.extend\n    onRun: ->\n      Meteor.call 'lessonComplete', @params.completionSecret, (error, result) ->\n        Router.go 'lessons'\n        if error then alertMessage error.message\n        else alertMessage 'Great job! You completed a lesson!'\n\n  organization: RouteController.extend\n    waitOn: -> Meteor.subscribe 'singleOrganization', @params._id\n    data: -> organization: Organizations.findOne()\n\n  superAdmin: RouteController.extend\n    waitOn: -> Meteor.subscribe 'organizationsSuperAdmin'\n    data: -> organizations: Organizations.find()\n\n  userProfile: RouteController.extend\n    waitOn: -> Meteor.subscribe 'userResidences'\n    data: -> residences: Residences.find()\n\n  orgAdmin: RouteController.extend\n    waitOn: -> Meteor.subscribe 'organizationAdmin', @params._id\n    data: -> organization: Organizations.findOne()\n\n  roster: RouteController.extend\n    waitOn: -> Meteor.subscribe 'userOrganization'\n    data: -> organizations: Organizations.find().fetch()\n\n  dashboard: RouteController.extend\n    waitOn: ->\n      [ Meteor.subscribe 'lessons'\n        Meteor.subscribe 'supporters'\n        Meteor.subscribe 'userOrganization' ]\n    data: ->\n      organization = Organizations.findOne()\n      groups = OrganizationHelpers.getMemberGroups organization\n      _.each groups, (group) ->\n        OrganizationHelpers.memoizeGroupData group, organization\n\n      organization: organization\n      groups: groups\n      supporters: Supporters.find().fetch()\n","markers":{"markers":{"1":{"id":1,"range":[[36,0],[36,0]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":2128,"goalBufferRange":null,"preserveFolds":true},"deserializer":"Marker"},"167":{"id":167,"range":[[42,0],[57,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"224":{"id":224,"range":[[42,0],[57,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"295":{"id":295,"range":[[42,0],[57,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"370":{"id":370,"range":[[42,0],[57,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/andrewhazlett/Dev/src/webapp/client/router/controllers.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"4f6c6f8791b8670fd2a652010df844b80425f855","deserializer":"TextBuffer"},{"text":"### Publications ###\n\n# lessons\nMeteor.publish 'lessons', -> Lessons.find()\nMeteor.publish 'singleLesson', (id) -> Lessons.find id\n\n# organizations\n# TODO: check if user is super admin\nMeteor.publish 'organizationsSuperAdmin', -> Organizations.find()\n\nMeteor.publish 'singleOrganization', (id) -> Organizations.find _id: id\n\n# don't publish org admins\nMeteor.publish 'organizationAdmin', (id) -> Organizations.find id, orgAdmins: 0\n\n# Will only send the orgs that the user is a part of\nMeteor.publish 'userOrganization', ->\n  user = Meteor.users.findOne @userId\n  organizationIds = _.pluck user.roles, 'organizationId'\n  fields = groups: 1, members: 1, points: 1\n  Organizations.find _id: $in: organizationIds,\n    fields: fields\n\n# users. this might need to be updated a touch\n# but it works\nMeteor.publish null, ->\n  fields = roles: 1, secureProfile: 1\n  Meteor.users.find _id: @userId,\n    fields: fields\n\nMeteor.publish 'singleUser', (userId) ->\n  fields = roles: 0, secureProfile: 0, email: 0\n  Meteor.users.find _id: userId,\n    fields: fields\n\nMeteor.publish 'supporters', -> Supporters.find referrerId: @userId\n","markers":{"markers":{"1":{"id":1,"range":[[28,18],[28,18]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":2132,"goalBufferRange":null,"preserveFolds":true},"deserializer":"Marker"},"94":{"id":94,"range":[[36,0],[36,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"107":{"id":107,"range":[[36,0],[36,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"114":{"id":114,"range":[[36,0],[36,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/andrewhazlett/Dev/src/webapp/server/publications.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"ac2cf9d4ad62ed0f4d3cba1a57f2ec1e425bf5e6","deserializer":"TextBuffer"},{"text":"### An enum for the points earned for user actions ###\n\n@Points =\n  referralConfirmation: 12\n  enterZip: 40\n  supporterEmailResponse: 9\n  lessonComplete: 10\n  pledge: 5\n  referralDecline: 5\n  teacherPoints: 5\n  studentGoal: 500\n","markers":{"markers":{"1":{"id":1,"range":[[3,22],[3,22]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":2150,"goalBufferRange":null,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/andrewhazlett/Dev/src/webapp/lib/points.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"465c68da59a344f94e9926f0f43c489cfa773c12","deserializer":"TextBuffer"},{"text":"{\n  \"meteor\": {\n    \"git\": \"https://github.com/meteor/meteor\",\n    \"tag\": \"release/0.8.3\"\n  },\n  \"packages\": {\n    \"iron-router\": {\n      \"version\": \"0.8.2\"\n    },\n    \"iron-router-progress\": {},\n    \"bootstrap-3\": {},\n    \"collection2\": {},\n    \"autoform\": {},\n    \"blaze-layout\": {},\n    \"handlebar-helpers\": {},\n    \"GAnalytics\": {},\n    \"connection-banner\": {},\n    \"font-awesome\": {},\n    \"mocha-web\": {},\n    \"email-supporters\": {\n      \"git\": \"https://github.com/dropoly/meteor-email-supporters\"\n    },\n    \"secure-profile\": {\n      \"git\": \"https://github.com/dropoly/meteor-secure-profile\"\n    },\n    \"organization-points\": {\n      \"git\": \"https://github.com/dropoly/meteor-organization-points\"\n    },\n    \"dynamic-images\": {\n      \"git\": \"https://github.com/dropoly/meteor-dynamic-images\"\n    },\n    \"alertify\": {\n      \"git\": \"https://github.com/rileydustin/alertfy\"\n    }\n  }\n}\n","markers":{"markers":{"1":{"id":1,"range":[[0,1],[0,1]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":2155,"goalBufferRange":null,"preserveFolds":true},"deserializer":"Marker"},"21":{"id":21,"range":[[26,68],[26,68]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"32":{"id":32,"range":[[26,68],[26,68]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"48":{"id":48,"range":[[26,6],[26,6]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":2194,"goalBufferRange":null,"preserveFolds":true},"deserializer":"Marker"},"54":{"id":54,"range":[[1,0],[4,4]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"},"56":{"id":56,"range":[[1,0],[4,4]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/andrewhazlett/Dev/src/webapp/smart.json","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"4e276a80fb06a8e08edcb1f917aa748ac08038a3","deserializer":"TextBuffer"},{"text":"### Iron-router Configuration ###\n\nRouter.configure\n  layoutTemplate: 'layout'\n  loadingTemplate: 'loading'\n  waitOn: ready: -> not Meteor.loggingIn()\n\n# before filters\nfilters =\n  isLoggedIn: ->\n    Router.go 'landing' unless Meteor.user()\n  isAdmin: ->\n    isAdmin = (_.where(Meteor.user().roles, dropoly: 'admin').length > 0) or\n    (_.where(Meteor.user().roles, dropoly: 'org-admin').length > 0) or\n    (_.where(Meteor.user().roles, dropoly: 'super-admin').length > 0)\n    Router.go 'homepage' unless isAdmin\n  isGroupAdmin: ->\n    isTeacher = _.isEmpty _.where Meteor.user().roles, role: 'memberGroupAdmin'\n    Router.go 'homepage' unless isTeacher\n\n# before actions\nactions =\n  gaPageView: -> GAnalytics.pageview()\n\nRouter.onBeforeAction filters.isLoggedIn, except: [\n    'landing', 'lesson', 'tests', 'unsubscribe', 'signupAccount'\n    # email-supporters supporter creation routes\n    'confirmReferral', 'declineReferral', 'supporterSignup',\n    # email-supporters supporter response routes\n    'supporterInputZip', 'campaign', 'campaignNoResponse', 'qaEmailResponse'\n  ]\nRouter.onBeforeAction filters.isAdmin, only: [\n    'admin', 'orgAdmin', 'superAdmin'\n  ]\nRouter.onBeforeAction filters.isGroupAdmin, only: ['roster']\n\nRouter.onAfterAction actions.gaPageView\nRouter.onBeforeAction 'loading'\n# set document id from route params\nsetDocId = -> Session.set 'docId', @params._id\nRouter.onBeforeAction setDocId, only: ['orgSuperAdmin']\n","markers":{"markers":{"1":{"id":1,"range":[[40,0],[40,0]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":2175,"goalBufferRange":null,"preserveFolds":true},"deserializer":"Marker"},"16":{"id":16,"range":[[2,0],[2,6]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"17":{"id":17,"range":[[24,0],[24,6]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"18":{"id":18,"range":[[31,0],[31,6]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"19":{"id":19,"range":[[34,0],[34,6]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"20":{"id":20,"range":[[36,0],[36,6]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"21":{"id":21,"range":[[37,0],[37,6]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"22":{"id":22,"range":[[40,0],[40,6]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/andrewhazlett/Dev/src/webapp/client/router/config.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"50e069ffecd7475425e3d88f1878b7ed11f0949a","deserializer":"TextBuffer"},{"text":"Accounts.ui.config\n  passwordSignupFields: 'USERNAME_AND_OPTIONAL_EMAIL'\n\nUI.registerHelper 'isAdmin', ->\n  _.where(Meteor.user().roles, dropoly: 'admin').length > 0 ||\n  _.where(Meteor.user().roles, dropoly: 'org-admin').length > 0 ||\n  _.where(Meteor.user().roles, dropoly: 'super-admin').length > 0\n\nUI.registerHelper 'adminPath', ->\n  if _.where(Meteor.user().roles, dropoly: 'admin').length > 0\n    Router.path 'admin'\n  else if _.where(Meteor.user().roles, dropoly: 'org-admin').length > 0\n    Router.path 'orgAdmin'\n  else if _.where(Meteor.user().roles, dropoly: 'super-admin').length > 0\n    Router.path 'superAdmin'\n  else\n    null\n\nDeps.autorun  ->\n  # this will send any user that logs in from the landing page\n  # to the homepage without interferring with the new login UI\n  if Meteor.user() and Router.current().path is '/landing'\n    Router.go 'homepage'\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":2182,"preserveFolds":true,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/andrewhazlett/Dev/src/webapp/client/helpers/account.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"02abebeb4ac15735689dd297eadf352504068626","deserializer":"TextBuffer"},{"text":"@EmailCampaign =\n  sponsorOffers: [\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #2'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>You may be able to choose your energy\nsupplier.</strong> Many states have deregulated energy markets in which one\ncompany is responsible for delivering your energy and another one is responsible\nfor generating your energy. You\\'ll always have reliable service, but you can\nshop for different generation prices or even choose to power your home with\ngreener energy sources.</span>'\n    }\n  ]\n  tips: [\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #1'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Over half of residential energy consumption is\nused for space heating and cooling.</strong> Set your thermostat as low as is\ncomfortable in the winter and as high as is comfortable in the summer.<strong>\nYou can save 3 percent on the day’s heating or cooling costs by setting your\nthermostat back just one degree. </strong></span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #2'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>As of January of 2014 the standard incandescent\nbulb has been banned from sale in an effort to reduce the energy costs\nassociated with lighting.</strong> When you head to the store to replace your\nlight bulbs which bulbs do you buy? Well you have a few options: Halogen\nIncandescents, Compact Fluorescents (CFLs), and Light Emitting Diodes (LEDs).\nLEDs and CFLs are far superior to the Halogen Incandescent bulb in both\nlifespan and energy efficiency. <strong> LEDs are the most energy efficient and\nhave the longest average life span, although CFLs are a great choice as\nwell.</strong></span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #3'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>The average shower lasts 8.2 minutes and uses\n17.2 gallons of water.</strong> To reduce the amount of water used in your\nhousehold, set a shower timer. <strong> Taking a 5-minute shorter shower can\nsave up to 10 gallons of water per shower.</strong></span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #4'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span><strong>Insulating your hot water pipes can save you\n$8-12 a year!</strong> Insulating your hot water pipes reduces heat loss and can\nraise water temperature 2-4°F hotter than uninsulated pipes can deliver,\nallowing for a lower water temperature setting. You also won't have to wait as\nlong  for hot water when you turn on a faucet or showerhead, which helps\nconserve water. This energy saving update can easily be done in as little as an\nhour. <strong>Tips like this and others can be found on energy.gov's Energy\nSavers page.</strong></span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #5'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>You can save $12-30 a year by adjusting the\nsetpoint of your water heater.</strong> Most homes use the manufacturer\\'s\nsetting of 140F. You only need it to be 120F for typical residential uses.\n<strong>Lowering your water heater setting also slows mineral buildup and\ncorrosion in your water heater and pipes.</strong></span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #6'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span><img src='http://www.energy.gov/sites/prod/files/styles\\\n/borealis_article_hero_respondlarge/public/graph_appliance%20electricity.jpg\\\n?itok=_z-lJ-cf' />This chart shows how much energy a typical appliance uses per\nyear and its corresponding cost based on national averages. <strong>Appliancs\naccount for about 13% of your household's energy costs, with refrigeration,\ncooking and laundry at the top of the list.</strong></span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #7'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span><strong>When you're shopping for appliances, think of\n    two price tags.</strong> The first one covers the purchase price -- think\n    of it as a down payment. The second price tag is the cost of operating the\n    appliance during its lifetime. You'll be paying on that second price tag\nevery month with your utility bill for the next <strong> 10 to 20 years.\n</strong> Refrigerators last an average of <strong> 12 years; </strong>clothes\nwashers last about <strong > 11 years;</strong> and room air conditioners last\nabout <strong>9 years.</strong></span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #8'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span><strong>Most of the energy used by a dishwasher is for\nwater heating.</strong> The EnergyGuide label estimates how much power is\nneeded per year to run the appliance and to heat the water based on the yearly\ncost of natural gas and electric water heating. <strong>An easy way to save on\nthe opperating cost of your dishwasher is to adjust the internal heating\nelement on your dishwasher to as low as 120°F.</strong> Your dishwasher will\nstill perform as it did before but won't use as much energy!</span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #9'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span>When shopping for a new dishwasher, look for the\n<strong>ENERGY STAR</strong> label to find one that uses less water and energy\nthan required by federal stadards. The standard requires them to use 4.25\ngallons of water per cycle or less -- older dishwashers purchaed before 1994\nuse more than 10 gallons of water per cycle.<span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #10'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span>The EnergyGuide label on new refrigerators tells you how\nmuch electricity in kilowatt-hours (kWh) a particular model uses in one year.\nThe smaller the number, the less energy the refrigerator uses and the less it\nwill cost you to operate. In addition to the EnergyGuide label, don't forget to\nlook for the <strong>ENERGY STAR</strong> label. A new refrigerator with an\nENERGY STAR label uses at least 15% less energy than non-qualifed models, 20%\nless energy then required by current federal standards, and 40% less energy than\nthe conventional models sold in 2001.</span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #11'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span>Liquids and foods that aren't wrapped or covered release\nmoisture and make your refrigerators compressor work harder. The harder your\ncompressor is working the more energy you are using and the more it will cost\nyou. Make sure to keep all foods and liquids covered when they are being stored\nin your refrigerator.</span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #12'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Refrigerator door latches may need adjustment\nover time.</strong> If the alignment of the latch is off, the airtight seal\ncould be compromised. An easy way to test this is closing the door over a piece\nof paper so half is in and half is out. If the piece of paper can be pulled out\neasily you should consider adjusting the latch positioning.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #13'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span> <strong>There are two easy ways to reduce the amount of\nenergy used for washing clothes--use less water and use cooler water.</strong>\nUsing the warm or cold water setting on your machine will clean your clothes\njust as well as the hot setting. <strong>Switching your temperature setting from\nhot to warm can cut a load's energy use in half!</strong></span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #14'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span>When it's time to replace an old clothes washer look for\nthe ENERGY STAR and EnergyGuide labels. <strong>ENERGY STAR clothes washers\nclean clothes using 35% less water and 20% less energy than standard washers.\n</strong></span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #15'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span>When shopping for a new clothes dryer, look for one\nwith a moisture sensor that automatically shuts off the machine when your\nclothes are dry. <strong>Not only will this save energy, it will save the wear\nand tear on your clothes caused by over-drying.</strong> ENERGY STAR does not\nlabel clothes dryers because most of them use similar amounts of energy.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #16'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>The average American family washes about 300\nloads of laundry each year.</strong> ENERGY STAR washers can help families cut\ntheir related energy and water costs. They also have a greater tub capacity\nwhich means you can use fewer loads to clean the same amount of laundry.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #17'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'Does your household/apartment have an ENERGY STAR rated clothes\nwasher?'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span>If every clothes washer purchased in the U.S. this year\nearned ENERGY STAR certification, we would save 540 million kWh of electricity,\n20 billion gallons of water, and 1.4 trillion BTUs of natural gas every year,\nresulting in energy bill savings of about $250 million, every year.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #18'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span>You can use sunshine to heat or preheat your water. An\nsolar water heating system can cut your annual hot water costs in half, and is\ngenerally designed for use with an electric or gas back-up water heater.'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #19'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Ever wonder if your home is suitable for a\nsolar water heating system?</strong> Well if your roof receives direct sunlight\nbetween the hours of 10am - 4pm, has a surface facing south, and is in good\ncondition then you are a prime candidate. Not all systems need to mounted on\nroofs though. If there is a patch of land next to your home a ground system can\nbe installed as well.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #20'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span>If you are interested in installing any sort of\nrenewable energy system at your home make sure to use a contractor that is\ncertified by the North American Board of Certified Energy Practitioners\n(NABCEP). NABCEP is the most respected, well-established and widely recognized\ncertification organization for North American solar professionals.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #21'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span><strong>There are more than 5 million in-ground pools\ninstalled across America and over 150,000 new pools are built annually.</strong>\nA key component of these pools is the pool pump, which re-circulates water\nthrough a filter to maintain water clarity and hygiene. All swimming pools have\nat least one recirculation pump, but many have multiple pumps. Many pool owners\ndon't realize how much energy their pool pump may be wasting. An ENERGY STAR\n    certified pool pump can save you over $300 per year.</span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #22'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span> Dropoly offers a free home energy audit online? If you\nclick the link below you will be redirected to our home energy audit page. It is\nsuper easy to use and offers custom energy tips and savings calculations.\n<a href = 'https://dropoly.com/play/'> Dropoly's DIY Home Energy\nAudit</a></span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #23'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>The government will grant tax credit at 30% of\nthe cost for homes that install, a Geothermal Heat Pump, Small Wind Turbine or\nSolar Energy System.</strong> There is no cap on price the 30% is guaranteed but\nit does expire on December 31, 2016. Both existing homes and new builds qualify\nfor this tax credit.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #24'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>ENERGY STAR parteners with home builders and\nbuilds ENERGY STAR certified homes that deliver efficiency savings of up to 30%\nwhen compared to typcial new homes.</strong> A new home that has earned the\nENERGY STAR label has undergone a process of inspections, testing, and\nverification to meet strict requirements set by the U.S. Environmental\nProtection Agency (EPA), delivering better quality, better comfort and better\ndurability.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #25'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span>From air sealing to improving ventilation to adding\ninsulation, home weatherization helps consumers save money by saving energy.\nWeatherization is alos a growing industry in the clean energy economy, creating\njobs for home energy auditors and residential contractors.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #26'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Appliances that are plugged in still use\nelectricity even if they are off.</strong> There are two ways to elimate\nthis--one is to simply unplug your appliances after use, and the other is to\nplug appliances into a smart strip. Smart strips recognize that a device is not\nin use and supply no power to the appliance and save you cash.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #27'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Simply replacing 5 of your most frequently used\nlight bulbs with energy-efficient ENERGY STAR bulbs could save you $75 a year in\nenergy costs.</strong> </span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #28'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>If your home has very old and/or inefficient\nwindows, it might be more cost-effictive to replace them tan to try and improve\ntheir energy efficiency.</strong> New, energy-efficient windows eventually pay\nfor themselves through lower heating and cooling costs and sometimes even\nlighting costs. Improving window performance in your home involves design,\nselection and installation.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #29'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>The annual energy bill for a typcial single\nfamily is approximately $2,200. </strong>Of this $2,200 just over $1,000 goes\ndirectly to heating and cooling your home. Programmable thermostats such as\nNEST offer huge savings oppurtunities that pay for themselves in a relatively\nshort time.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #30'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>When your fireplace is not in use the flue\nshould be tightly closed.</strong> If your flue is left open you are wasting\nenergy and money that is easily esacping through the fireplace and chimney.\nClosing the chimney damper will stop the flow of warm air upwards and keep it\nin the living space where it belongs.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #31'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>A faucet leak amounting to one drip per second\nwould add up to over 1,600 gallons over the course of a year.</strong> Fixing\ndrips is an easy and cost-effective way to save energy and water. </span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #32'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>A standard dehumidifier uses about the same\namount of energy as a refrigerator and clothes washer combined.</strong>A\ndehumdifier that has earned the ENERGY STAR removes the same amount of moisture\nas a conventional unit, but uses 15% less energy.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #33'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Sealing and insulating ducts can improve the\nefficiency of your HVAC system by as much as 20%. </strong> Look for holes,\ntears, and other signs of leakking ducts and seal them using mastic or metal\n(foil) tape.For the greatest return, insulate all the ducts you can access,\nsuch as those in the attic, crawlspace, unfinished basements and even the\ngarage.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #34'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span>Proper attic ventilation combined with air sealing and\ninsulation can keep your home comfortable year-round.<strong> You can also save\nup to 10% on your energy bill by sealing and insulating your home. </strong>\nProper passive ventilation of your attic extends the life of your roof shingles\nand helps remove any moisture that can be blown in by storms. Be sure attic\nsoffit vents and gable vents are not blocked so air flows freely through\nthem.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #35'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span><strong>If all computers sold in the US were ENERGY STAR\ncertified, greenhouse gas savings would grow to 52 billion pounds per\nyear.</strong> ENERGY STAR certified computers deliver substantial savings over\nstandard models and are available in desktop, integrated desktop and laptop\nmodels. Depending on how it's used, an ENERGY STAR computer uses 30-65% less\n    energy, without sacrificing quality or performance.</span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #36'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>If all imaging products sold in the US were\nENERGY STAR certified, greenhouse gas saving s would grow to 37 billion pounds\nevery year. </strong> Printing is more efficient when using an ENERGY STAR\ncertified printer. They use over 45% less energy than standard models and their\nefficient design ensures they run cooler and last longer.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #37'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Depending on where you live, replacing your old\nheating and cooling equipment with units that have arned the ENERGY STAR could\ncut your annual energy bill by more than $115.</strong> If your HVAC equipment\nis more than 10 years old or not keeping your house comfortable, consider\nreplacement with ENERGY STAR certified equipment, which has higher efficiency\nratings than standard models. If replacing your entire HVAC system is not\nfeasible make sure that filters are changed reguraly in order to optimize your\ncurrent system.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #38'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Clothes dryers account for approximately 6\npercent of residential electricity use.</strong> To reduce this, consider air\ndrying laundry on a clothes line. Air drying prolongs the life of your clothes\nand uses no energy. If you must use your clothes dryer, try and only dry full\nloads and to keep the lint trap clean.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #39'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span><strong>ENERGY STAR certified ceiling fans with lights\nare 60% more efficient and can save $165 in energy costs over the fan's 10-year\nlifetime.</strong> Celing fans can also help cut your cooling costs. Use a\nceiling fan while your airconditioning is turned off to keep the illusion of a\ncooled room. Ceiling fans cool people, not the room.</span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #40'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Reversign the direction of you ceiling fan\nduring the winter can help save on heating costs.</strong> Reversing your fan\ndirection produces a gentle updraft, which forces warm air near the ceiling down\ninto the living space keeping you warmer and not your ceilings.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #41'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Covering your pot when cooking on an electric\ncooktop reduces your carbon footprint by about 85lbs of carbon per\nyear.</strong> To avaoid wasting energy, always cover pots and pans to keep heat\nin. Trapping the heat will increase temperatures in the pan and cooking times\ncan be reduced.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #42'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span><strong>Glass windows without shading allow between\n75-80 percent of transmitted solar energy through, where vertical or venetian\nblinds allow 0-5 percent.</strong> During cold weather, take advantage of the\nsun's warmth by keeping drapes open on south facing windows during daylight\n    hours. To keep out the heat of the summer sun, close window shades and\n    drapes in warm weather.</span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #43'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>If all decorative light strings sold in the US\nwere ENERGY STAR certified, we would prevent 630 million pounds of annual\ngreenhouse gas emissions.</strong> Whether decorating for the holidays or\ncreating a warm atmosphere in your home, choose ENERGY STAR certified decorative\nlight strings. Many ENERGY STAR light strings feature LED technology, which are\nexceptionally energy efficient when producing individual colors and can use up\nto 90% less energy than incandescents.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #44'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Home owners typcially save up to $200 a year in\nheating and cooling costs by air sealing their homes and adding\ninsulation.</strong> Check for signs of air leakage around windows and doors.\nThen use caulk and weather-stripping to stop the leaks.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #45'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Using motion-detector lights for outdoor\nlighting can save you big</strong> Outdoor motion-detector lighting, achieve the\nsame goal as regular lighting, but use far less energy. Consider replacing\noutdoor motion-detector light bulbs with LED bulbs to increase your savings even\nmore.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #46'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>Compact Fluorescent (CFL) bulbs are not always\nfit for outdoor settins.</strong> If you live in an area that fully experiences\nall four seasons CFL bulbs are not right for you. CFL bulbs do not operate to\ntheir full efficiency or live to their full life span in temperature extremes.\n<strong> Instead use LED bulbs for outdoor lighting. They opperate at max\nefficiency and live to their full life span even in temperature\nextremes.</span>'\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #47'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: \"<span><strong>Your freezer operates more efficiently when it's\nfull.</strong> Freezers that are full use less energy because the items that are\nalready frozen help keep other items cold as well. If you have a freezer that\nisn't completely full consider placing gallons of water in the free\nspace.</span>\"\n    },\n    {\n      template_name: 'energy-tip-2-answers'\n      global_merge_vars:\n        subject: 'Dropoly Energy Tip #48'\n        title: 'Did you know?'\n        points: '9'\n        intro: 'I have an energy tip for you!'\n        confirmation: 'Thanks for the tip!'\n      template_content:\n        bodyTip: '<span><strong>In 2011, Americans traveled a total of nearly 3\ntrillion miles--the equivalent of 6.2 million round-trips to the MOON!</strong>\nTransportation accounts for 71% of U.S. oil use, mostly for gas. Luckily, there\nare plenty of ways to improve your gas mileage or avoid using gas altogether.\nConsider riding a bike or using public transit to makes trips. </span>'\n    }\n  ]\n","markers":{"markers":{"1":{"id":1,"range":[[762,0],[762,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":2202,"goalBufferRange":null,"autoscroll":false,"preserveFolds":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/andrewhazlett/Dev/src/webapp/server/fixtures/emailCampaign.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"68c02b17af4862fa01e6666c24574dcc02ad3b2e","deserializer":"TextBuffer"},{"text":"### User Schema\nUser:\n  _id: String\n  username: String\n  emails: [\n    address: String\n    verified: Boolean (Always false because we don't use email verification)\n  ]\n  profile:\n    firstName: String\n    lastName: String\n  secureProfile:\n    achievements: [kind: String]\n    supporters: [UserSupporterSchema]\n    points: Integer\n  roles: [\n    role: String ('memberOrganization', 'memberGroup', or 'memberGroupAdmin')\n    orgainizationId: String\n    groupId: (Won't exist if role is 'memberOrganization')\n  ]\n  services: Just Don't Touch...\n###\n\n\n@Schema = {}\n\nSchema.UserProfile = new SimpleSchema\n  firstName:\n    type: String\n    # regEx: /^[a-zA-Z-]{2,25}$/\n    optional: true\n    min: 2\n    max: 25\n  lastName:\n    type: String\n    # regEx: /^[a-zA-Z]{2,25}$/\n    optional: true\n    min: 2\n    max: 25\n\nSchema.Achievement = new SimpleSchema\n  kind: type: String\n\nSchema.LessonComplete = new SimpleSchema\n  id: type: String\n\nSchema.SecureProfile = new SimpleSchema\n  achievements:\n    type: [Schema.Achievement]\n    defaultValue: []\n  supporters:\n    type: [UserSupporterSchema]\n    defaultValue: []\n  points:\n    type: Number\n    defaultValue: 0\n  completedLessons:\n    type: [Schema.LessonComplete]\n    optional: true\n\nSchema.User = new SimpleSchema\n  username:\n    type: String\n    #regEx: /^[a-z0-9A-Z_]{3,15}$/\n    min: 3\n    max: 25\n  emails:\n    type: [Object]\n    blackbox: true\n    optional: true\n  createdAt:\n    type: Date\n  profile:\n    type: Schema.UserProfile\n    defaultValue: {}\n  secureProfile:\n    type: Schema.SecureProfile\n    defaultValue: {}\n  roles:\n    type: Array\n    optional: true\n    blackbox: true\n  'roles.$':\n    type: Object\n    optional: true\n    blackbox: true\n  services:\n    type: Object\n    optional: true\n    blackbox: true\n\nMeteor.users.attachSchema Schema.User\n\n# Extension to Meteor.users collection\nif Meteor.isServer\n  Accounts.onCreateUser (options, user) ->\n    user.profile = options.profile\n    user.roles = options.roles\n    SecureProfile.onCreateUser user\n    user\n\nMeteor.users.allow\n  # users can update their own profile\n  update: (userId, doc, fields, mod) ->\n    # Prevents users from updating other users and\n    # makes sure they don't update their role and\n    # other secure fields (points, achievements)\n    (doc._id is userId) and\n    (not _.contains fields, 'roles')\n","markers":{"markers":{"1":{"id":1,"range":[[108,36],[108,36]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":2272,"goalBufferRange":null,"preserveFolds":true},"deserializer":"Marker"},"98":{"id":98,"range":[[91,0],[91,6]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"99":{"id":99,"range":[[94,3],[94,9]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"100":{"id":100,"range":[[101,0],[101,6]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/andrewhazlett/Dev/src/webapp/collections/users.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"42de201647e0d86c84a6e1ac606d2d59560fc0ea","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"children":[{"id":1750,"items":[{"id":2065,"softTabs":true,"displayBuffer":{"id":2066,"softWrap":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/andrewhazlett/Dev/src/webapp/client/views/pages/dashboard.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":2194,"softTabs":true,"displayBuffer":{"id":2195,"softWrap":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/andrewhazlett/Dev/src/webapp/smart.json","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":2202,"softTabs":true,"displayBuffer":{"id":2203,"softWrap":true,"editorWidthInChars":null,"scrollTop":19333,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/andrewhazlett/Dev/src/webapp/server/fixtures/emailCampaign.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":2150,"softTabs":true,"displayBuffer":{"id":2151,"softWrap":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/andrewhazlett/Dev/src/webapp/lib/points.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":2132,"softTabs":true,"displayBuffer":{"id":2133,"softWrap":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/andrewhazlett/Dev/src/webapp/server/publications.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/andrewhazlett/Dev/src/webapp/client/views/pages/dashboard.coffee","focused":false,"deserializer":"Pane"},{"id":2119,"items":[{"id":2155,"softTabs":true,"displayBuffer":{"id":2156,"softWrap":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/andrewhazlett/Dev/src/webapp/smart.json","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":2182,"softTabs":true,"displayBuffer":{"id":2183,"softWrap":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/andrewhazlett/Dev/src/webapp/client/helpers/account.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":2128,"softTabs":true,"displayBuffer":{"id":2129,"softWrap":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/andrewhazlett/Dev/src/webapp/client/router/controllers.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":2175,"softTabs":true,"displayBuffer":{"id":2176,"softWrap":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/andrewhazlett/Dev/src/webapp/client/router/config.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":2272,"softTabs":true,"displayBuffer":{"id":2273,"softWrap":true,"editorWidthInChars":null,"scrollTop":1780,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/andrewhazlett/Dev/src/webapp/collections/users.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/andrewhazlett/Dev/src/webapp/smart.json","focused":true,"deserializer":"Pane"}],"orientation":"horizontal","deserializer":"PaneAxis"},"activePaneId":2119,"deserializer":"PaneContainer","version":1},"fullScreen":true,"packagesWithActiveGrammars":["language-coffee-script","language-json"],"deserializer":"Workspace"},"packageStates":{"find-and-replace":{"viewState":{"findHistory":["I20140530-*(-4)?","lessons","views","templateSlug","globalMergeVars","  ","globalMergeVars","sponsor","previousSponsors","sponsor","supporter","getUserTotalLessonsCompleted","getUserLessonsCompleted"],"replaceHistory":["client/views","template_name","global_merge_vars","supporter","previousSupporters","supporter","getUserTotalLessonsCompleted"],"modelState":{"useRegex":false,"inCurrentSelection":false,"caseSensitive":false}},"projectViewState":{"findHistory":["RegEx.Email","public/img/dropoly_full_logo.png","dropoly_full_logo.png","Accounts.on","createSponsor","createReferral","qaEmailResponse","Meteor.subscribe 'referrer'","Meteor.subscribe","Meteor.call 'createReferral","S_9dSN3t9KTLX","findUserFromUserId","onCreate","onCreateUser","resendReferral","Mandrill","yield","qaEmailResponse","sponsor","signupAccount","{{> leaderboard","leaderboard","Router.go","landing"],"replaceHistory":[],"pathsHistory":["packages/simple-schema","packages/email-supporters","client","server","client"],"modelState":{"useRegex":false,"caseSensitive":false}},"resultsModelState":{"useRegex":false,"caseSensitive":false}},"fuzzy-finder":{"/Users/andrewhazlett/Dev/src/webapp/client/views/pages/dashboard.coffee":1410210747421,"/Users/andrewhazlett/Dev/src/webapp/smart.json":1410210747422,"/Users/andrewhazlett/Dev/src/webapp/server/fixtures/emailCampaign.coffee":1408650611817,"/Users/andrewhazlett/Dev/src/webapp/lib/points.coffee":1408406315180,"/Users/andrewhazlett/Dev/src/webapp/server/publications.coffee":1408406673966,"/Users/andrewhazlett/Dev/src/webapp/client/helpers/account.coffee":1408476977823,"/Users/andrewhazlett/Dev/src/webapp/client/router/controllers.coffee":1408468630517,"/Users/andrewhazlett/Dev/src/webapp/client/router/config.coffee":1409256591421,"/Users/andrewhazlett/Dev/src/webapp/collections/users.coffee":1410184483643},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":12558},"tree-view":{"directoryExpansionStates":{"collections":{},"lib":{},"server":{"fixtures":{}}},"selectedPath":"/Users/andrewhazlett/Dev/src/webapp/smart.json","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":265},"gitter":{},"coffee-lint":{"height":0}}}